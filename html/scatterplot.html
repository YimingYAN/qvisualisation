<!doctype html>
<html lang="en">
<meta charset="utf-8">
<head>
  <script type="text/javascript" src="qrc:///visualisation/lib/d3.v3/d3.min.js"></script>
  <script type="text/javascript" src="qrc:///qtwebchannel/qwebchannel.js"></script>
</head>

<body>
  <script>
  var updatePlot = function(data) {
      d3.select("body")
      .data(data)
      .enter()
      .append("p")
      .text(function(d){return d;});
  }

  new QWebChannel(qt.webChannelTransport,
    function(channel) {
      var dataModel = channel.objects.dataModel;
      var data = dataModel.dataString;
      updatePlot(data);
      dataModel.dataChanged.connect(updatePlot);
    }
  );
  </script>

</body>
</html>
